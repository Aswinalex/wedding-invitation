<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>You're Invited! - Taniya & Aswin</title>

    <!-- Thumbnail / Social Media Share Tags -->
    <meta property="og:title" content="You're Invited! - Taniya & Aswin's Wedding">
    <meta property="og:description" content="Join us in celebrating the wedding of Taniya and Aswin on January 5th, 2026 in Thiruvalla, Kerala.">
    <meta property="og:image" content="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/IMG-20250427-WA0089.jpg">
    <meta property="og:url" content="https://aswinalex.github.io/wedding-invitation/">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,600;0,700;1,400&family=Great+Vibes&display=swap" rel="stylesheet">
    
    <style>
        /* Custom styles for the wedding invite */
        .object-cover {
            object-fit: cover;
        }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f2ede8;
            color: #0D4B4F;
            line-height: 1.7;
            overflow-x: hidden;
        }
        .bible-verse-ml {
            font-family: 'Poppins', sans-serif;
        }
        .font-great-vibes {
            font-family: 'Great Vibes', cursive;
        }
        .hero-section {
            background: url('https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/IMG-20250427-WA0089.jpg') center center/cover no-repeat;
            color: #fff;
            text-shadow: 2px 2px 8px rgba(33,158,158,0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            position: relative;
            overflow: hidden;
            background-attachment: fixed;
            animation: kenburns 80s ease-out infinite;
        }
        /* Optionally, make the overlay less opaque to reveal more of the image: */
        .hero-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(120deg, rgba(33,158,158,0.3) 0%, rgba(255,126,95,0.1) 100%);
            z-index: 1;
            
        }
        .hero-content {
            position: relative;
            z-index: 2;
            background: linear-gradient(135deg, rgba(255,255,255,0.18) 0%, rgba(255,184,140,0.18) 100%);
            padding: 2rem;
            border-radius: 0.75rem;
            backdrop-filter: blur(12px) saturate(120%);
            border: 1.5px solid rgba(255,126,95,0.25);
            max-width: 48rem;
            margin: auto;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        }
        .section-divider {
            position: relative;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 2rem auto;
        }
        .section-divider::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 2px;
            background: linear-gradient(to right, transparent, #800000, transparent);
            z-index: 0;
        }
        .section-divider::after {
            content: '';
            font-size: 2rem;
            color: #800000;
            background-color: #f2ede8;
            padding: 0 10px;
            position: relative;
            z-index: 1;
        }
        .btn-primary {
            background-color: #800000;
            color: #f2b5b0;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(33,158,158,0.1);
            font-weight: 600;
            border: none;
            backdrop-filter: blur(4px);
        }
        .btn-primary:hover {
            background: #6a0000;
            color: #f2ede8;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(33,158,158,0.15);
        }
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #274690;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            display: inline-block;
            vertical-align: middle;
            margin-left: 10px;
        }
        @keyframes kenburns {
            0% {
                background-size: 100%;
                background-position: center center;
            }
            40% {
                background-size: 125%;
                background-position: top right;
            }
            60% {
                background-size: 125%;
                background-position: top right;
            }
            100% {
                background-size: 100%;
                background-position: center center;
            }
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .event-box {
            position: relative;
            overflow: hidden;
            color: #fff;
            text-shadow: 1px 1px 3px rgba(33,158,158,0.7);
            background: linear-gradient(120deg, rgba(33,158,158,0.85) 0%, rgba(56,182,182,0.85) 100%);
            backdrop-filter: blur(8px) saturate(120%);
        }
        .event-box-overlay {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(120deg, rgba(33,158,158,0.25) 0%, rgba(255,126,95,0.08) 100%);
            z-index: 1;
            transition: background-color 0.3s ease;
            backdrop-filter: blur(6px);
        }
        .event-box-content {
            position: relative;
            z-index: 2;
        }
        #guestbookDisplay {
            background:  rgba(7, 65, 65, 0.7);
            border: 1px solid #800000;
            border-radius: 0.5rem;
            padding: 1.5rem;
            text-align: left;
            min-height: 150px;
            color: #fff;
            backdrop-filter: blur(6px);
        }
        #guestbookDisplay .message {
            border-bottom: 1px solid #800000;
            padding-bottom: 1rem;
            margin-bottom: 1rem;
        }
        #guestbookDisplay .message:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        /* For scroll animations */
        .fade-in-section {
            opacity: 0;
            transform: translateY(60px) scale(0.97);
            transition: opacity 1.6s cubic-bezier(0.4,0,0.2,1), transform 3s cubic-bezier(0.4,0,0.2,1);
            will-change: opacity, transform;
            background-color: transparent !important;
        }
        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
        /* Timeline Styles */
        .timeline-container { position: relative; padding: 2rem 0; }
        .timeline-container::before { content: ''; position: absolute; top: 0; left: 50%; transform: translateX(-50%); width: 2px; height: 100%; background-color: #800000; }
        .timeline-item { position: relative; width: 50%; padding: 1rem 2rem; box-sizing: border-box; }
        .timeline-item:nth-child(odd) { left: 0; padding-right: 4rem; text-align: right; }
        .timeline-item:nth-child(even) { left: 50%; padding: 1rem 4rem; text-align: left; }
        .timeline-dot { position: absolute; top: 1.5rem; width: 16px; height: 16px; background-color: #f2b5b0; border: 2px solid #fff; border-radius: 50%; z-index: 1; }
        .timeline-item:nth-child(odd) .timeline-dot { right: -8px; }
        .timeline-item:nth-child(even) .timeline-dot { left: -8px; }
        .timeline-content { 
            background-color: #0D4B4F;
            padding: 1.5rem;
            border-radius: 0.5rem; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); 
            border: 1px solid #f2b5b0;
            transition: transform 0.3s ease, box-shadow 0.3s ease; 
            color: #f2b5b0;
        }
        .timeline-content img {
            border-radius: 0.5rem;
            margin-bottom: 1rem;
        }
        .timeline-content:hover { box-shadow: 0 10px 20px rgba(255,184,140,0.15); }

        /* Mobile-specific styles for the timeline */
        @media (max-width: 767px) {
            .timeline-container::before {
                left: 8px;
                transform: translateX(0);
            }
            .timeline-item {
                width: 100%;
                padding-left: 2.5rem;
                padding-right: 1rem;
            }
            .timeline-item:nth-child(odd),
            .timeline-item:nth-child(even) {
                left: 0;
                text-align: left;
            }
            .timeline-item:nth-child(odd) .timeline-dot,
            .timeline-item:nth-child(even) .timeline-dot {
                left: 0;
            }
        }

        /* --- NEW ANIMATIONS --- */
        /* Menu reveal animation */
        .menu-list li {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 2s ease-out, transform 2s ease-out;
        }

        /* Menu heading hover animation */
        .menu-section h2 {
            cursor: pointer;
        }
        .menu-section h3 {
            transition: transform 0.3s ease, color 0.3s ease;
        }
        .menu-section h3:hover {
            transform: scale(1.05);
            color: #ffb88c;
        }

        /* Perfect Equation Section */
        .equation-section {
            position: relative;
            min-height: 60vh;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background-image: linear-gradient(to top, #f2ede8 0%, #f2b5b0 100%);
        }
        .equation-section .hero-content {
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(8px);
            border-color: rgba(255,255,255,0.3);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            background: none;
        }
        .video-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 0;
        }
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.4);
            z-index: 1;
        }


        /* --- Add or update these styles in your <style> block or external CSS file --- */
        .menu-section,
        .bg-wedding-section,
        .wedding-party-section,
        .local-favorites-section,
        .rsvp-section,
        .guestbook-section,
        .dresscode-section {
            background: linear-gradient(to bottom, #f2ede8 0%, #f2b5b0 100%);
        }
        .bg-\[\#a87b6e\], .bg-\[\#945240\] {
            background-color: #f2b5b0 !important;
        }
        .text-[#a87b6e], .text-[#945240] {
            color: #800000 !important;
        }
        footer {
            background-color: #0D4B4F;
            color: #f2b5b0;
        }
        footer .text-2xl {
            color: #f2ede8;
        }
        footer .text-sm {
            color: #f2ede8;
        }
        .btn-primary, .focus\:ring-\[\#a87b6e\], .focus\:ring-\[\#945240\] {
            background: #800000;
            color: #f2b5b0;
            border-color: #800000;
        }
        input:focus, textarea:focus, select:focus {
            outline: 2px solid #800000 !important;
            border-color: #800000 !important;
        }
        ::-webkit-scrollbar-thumb {
            background: #800000;
        }
        ::-webkit-scrollbar-track {
            background: #f2b5b0;
        }
        ::-webkit-scrollbar {
            width: 8px;
        }
        .text-light { color: #f2b5b0; }
        .text-dark { color: #800000; }
    </style>
</head>
<body class="antialiased">
    
    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="fixed inset-0 z-50 hidden items-center justify-center p-4 bg-black bg-opacity-50">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center">
            <h3 class="text-lg font-semibold mb-4 text-dark">Are you sure?</h3>
            <p class="text-gray-600 mb-6">Do you really want to delete this message? This action cannot be undone.</p>
            <div class="flex justify-center gap-4">
                <button id="cancelDelete" class="px-6 py-2 rounded-full text-gray-700 bg-gray-200 hover:bg-gray-300">Cancel</button>
                <button id="confirmDelete" class="px-6 py-2 rounded-full text-white bg-red-600 hover:bg-red-700">Delete</button>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <header id="heroSection" class="hero-section text-center p-4">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <p class="text-lg md:text-5xl mb-4 font-great-vibes text-dark">
                Together with their families
            </p>
            <h1 class="text-6xl md:text-8xl font-bold mb-6 font-great-vibes text-dark">Taniya</h1>
            <p class="text-xl md:text-4xl mb-2 font-great-vibes text-dark">
                Daughter of Mr. Binny Vadakedathu and Mrs. Laly Binny
            </p>

            <h1 class="text-6xl md:text-8xl font-bold mb-6 font-great-vibes text-dark">Aswin</h1>
            <p class="text-xl md:text-4xl mb-2 font-great-vibes text-dark">
                Son of Dr. Salim C Eapen & Mrs. Renu Thomas
            </p>
            <p class="text-xl md:text-4xl mt-6 font-great-vibes text-dark">
                Invite you to join them in celebrating their love
            </p>
        </div>
    </header>
    <!-- Countdown Timer Section -->
    <section class="py-8 px-4 text-center" style="background: linear-gradient(to bottom, #8b9a15 0%, #c7a09b 60%, #f2ede8 100%); color: #14213d;">
        <h2 class="text-3xl md:text-4xl font-great-vibes mb-4" style="color: #000000;">Counting down to the big day!</h2>
        <div id="countdown" class="grid grid-cols-4 gap-4 max-w-md mx-auto text-center">
            <div>
                <div id="days" class="text-4xl md:text-6xl font-semibold" style="font-family: 'Poppins', sans-serif; color: #0D4B4F; text-shadow: 1px 1px 0 #ffd700;">00</div>
                <div class="text-sm uppercase tracking-wider" style="color: #0D4B4F;">Days</div>
            </div>
            <div>
                <div id="hours" class="text-4xl md:text-6xl font-semibold" style="font-family: 'Poppins', sans-serif; color: #0D4B4F; text-shadow: 1px 1px 0 #ffd700;">00</div>
                <div class="text-sm uppercase tracking-wider" style="color: #0D4B4F;">Hours</div>
            </div>
            <div>
                <div id="minutes" class="text-4xl md:text-6xl font-semibold" style="font-family: 'Poppins', sans-serif; color: #0D4B4F; text-shadow: 1px 1px 0 #ffd700;">00</div>
                <div class="text-sm uppercase tracking-wider" style="color: #0D4B4F;">Minutes</div>
            </div>
            <div>
                <div id="seconds" class="text-4xl md:text-6xl font-semibold" style="font-family: 'Poppins', sans-serif; color: #0D4B4F; text-shadow: 1px 1px 0 #ffd700;">00</div>
                <div class="text-sm uppercase tracking-wider" style="color: #0D4B4F;">Seconds</div>
            </div>
        </div>
    </section>

    <!-- Bible Verse Section -->
    <section class="py-16 px-4 text-center bg-wedding-section">
        <div class="max-w-3xl mx-auto relative z-10">
            <!-- Glassy overlay -->
            <div style="
                position: absolute;
                inset: 0;
                z-index: 0;
                border-radius: 1rem;
                background: linear-gradient(120deg, rgba(255,255,255,0.35) 0%, rgba(255,184,140,0.18) 100%);
                backdrop-filter: blur(16px) saturate(120%);
                -webkit-backdrop-filter: blur(16px) saturate(120%);
                box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
            "></div>
            <div class="relative z-10 bg-transparent rounded-xl p-8 shadow-lg">
                <p class="text-2xl italic text-dark" style="font-family: 'Poppins', sans-serif;">"So they are no longer two, but one flesh. Therefore what God has joined together, let no one separate."</p>
                <p class="text-lg mt-2 text-dark" style="font-family: 'Poppins', sans-serif;">- Matthew 19:6</p>
                <div class="section-divider"></div>
                <p class="text-2xl italic bible-verse-ml"><span lang="ml" class="text-dark">"അതുകൊണ്ട് അവർ മേലാൽ രണ്ടല്ല, ഒരു ജഡമത്രേ. ആകയാൽ ദൈവം യോജിപ്പിച്ചതിനെ മനുഷ്യൻ വേർപിരിക്കരുത്."</span></p>
                <p class="text-lg mt-2 text-dark" style="font-family: 'Poppins', sans-serif;">- മത്തായി 19:6</p>
            </div>
        </div>
    </section>

    <!-- Details Section (Ceremony & Reception with Directions) -->
    <section class="bg-wedding-section py-16 px-4 text-center">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-5xl font-great-vibes mb-4 text-dark">The Ceremony & Reception</h2>
            <div class="section-divider"></div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <p class="text-xl text-dark">St. Thomas Mar Thoma Church, Thiruvalla — a timeless symbol of faith, tradition, and grace, offering a serene and sacred setting to begin a beautiful journey of love and togetherness.</p>
                <p class="text-xl text-dark">Mor Athanasius Yohan Memorial Convention Centre — a stunning venue blending modern elegance with heartfelt tradition, perfect for celebrating our special day with style.</p>
            </div>
            <div class="flex flex-row flex-wrap gap-8 justify-center items-stretch">
                <!-- Ceremony -->
                <div class="flex-1 flex flex-col items-center">
                    <div class="event-box p-0 rounded-xl shadow-lg w-full overflow-hidden" style="background:none;">
                        <div class="relative w-full">
                            <img src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/church.jpg" alt="St Thomas Mar Thoma Church" class="w-full h-64 object-cover rounded-xl" />
                            <div class="event-box-overlay rounded-xl absolute inset-0" style="backdrop-filter: blur(2px); background: linear-gradient(120deg, rgba(33,158,158,0.25) 0%, rgba(255,126,95,0.08) 100%);"></div>
                            <div class="absolute inset-0 flex flex-col justify-center items-center z-10 px-4">
                                <h3 class="text-3xl font-great-vibes mb-2 text-white drop-shadow-lg">Wedding Ceremony</h3>
                                <p class="mb-1 text-white font-semibold drop-shadow-lg">January 5th, 2026 • 3:00 PM</p>
                                <p class="mb-1 text-white drop-shadow-lg">St Thomas Mar Thoma Church</p>
                                <p class="mb-1 text-white drop-shadow-lg">Thiruvalla, Kerala</p>
                                <a href="https://www.google.com/maps/search/?api=1&query=St+Thomas+Mar+Thoma+Church,+Thiruvalla,+Pathanamthitta,+Kerala" target="_blank" rel="noopener noreferrer" class="btn-primary mt-3 inline-block">Get Directions</a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Reception -->
                <div class="flex-1 flex flex-col items-center">
                    <div class="event-box p-0 rounded-xl shadow-lg w-full overflow-hidden" style="background:none;">
                        <div class="relative w-full">
                            <img src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/hall.jpg" alt="Mor Athanasius Yohan Memorial Convention Centre" class="w-full h-64 object-cover rounded-xl" />
                            <div class="event-box-overlay rounded-xl absolute inset-0" style="backdrop-filter: blur(2px); background: linear-gradient(120deg, rgba(33,158,158,0.25) 0%, rgba(255,126,95,0.08) 100%);"></div>
                            <div class="absolute inset-0 flex flex-col justify-center items-center z-10 px-4">
                                <h3 class="text-3xl font-great-vibes mb-2 text-white drop-shadow-lg">Reception</h3>
                                <p class="mb-1 text-white font-semibold drop-shadow-lg">January 5th, 2026 • 5:30 PM – 10:00 PM</p>
                                <p class="mb-1 text-white drop-shadow-lg">Mor Athanasius Yohan Memorial Convention Centre</p>
                                <p class="mb-1 text-white drop-shadow-lg">Kuttappuzha, Thiruvalla</p>
                                <a href="https://www.google.com/maps/search/?api=1&query=Mor+Athanasius+Yohan+Memorial+Convention+Centre,+Kuttappuzha,+Thiruvalla" target="_blank" rel="noopener noreferrer" class="btn-primary mt-3 inline-block">Get Directions</a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Collapsible Travel Directions -->
                <div class="w-full md:w-auto max-w-2xl mx-auto mt-8 text-left"></div>
                    <button onclick="document.getElementById('travelDirections').classList.toggle('hidden')" 
                        class="w-full text-xl font-semibold text-dark bg-white bg-opacity-10 hover:bg-opacity-0 transition p-4 rounded-xl shadow-md text-left">
                        🚗✈️ How to Get to Thiruvalla (Tap to Expand)
                    </button>

                    <div id="travelDirections" class="hidden bg-white bg-opacity-70 rounded-xl p-6 mt-4 shadow-inner">
                        <h3 class="text-2xl font-great-vibes text-dark mb-4 text-center">Getting to Thiruvalla</h3>

                        <div class="mb-4">
                            <h4 class="text-lg font-semibold text-dark mb-1">✈️ From Kochi (Cochin) International Airport (COK)</h4>
                            <ul class="list-disc pl-5 text-dark text-md">
                                <li><strong>Taxi:</strong> ~1.5 hours (₹2,200–₹2,700). Pre-book or use Uber Intercity.</li>
                                <li><strong>Train:</strong> Take a cab (~30 min) to Aluva station, then a train to Thiruvalla (~2–2.5 hrs).</li>
                                <li><strong>Bus:</strong> KSRTC buses to Kottayam, then to Thiruvalla (total ~3 hours).</li>
                            </ul>
                        </div>

                        <div>
                            <h4 class="text-lg font-semibold text-dark mb-1">✈️ From Trivandrum International Airport (TRV)</h4>
                            <ul class="list-disc pl-5 text-dark text-md">
                                <li><strong>Taxi:</strong> ~2.5–3 hours (₹3,000–₹3,800). GoZo, Savaari, or Uber Intercity are reliable.</li>
                                <li><strong>Train:</strong> Short ride to Trivandrum Central, then train to Thiruvalla (~2.5 hrs).</li>
                                <li><strong>Bus:</strong> Regular KSRTC buses to Thiruvalla (~4 hours, budget-friendly).</li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>
    <!-- Menu Section -->
    <section class="py-16 px-4 text-center menu-section">
        <div class="max-w-4xl mx-auto">
            <details class="mb-8 bg-white/70 rounded-xl shadow-lg p-4 text-dark">
                <summary class="text-5xl font-great-vibes mb-4 cursor-pointer select-none outline-none text-dark">The Wedding Feast</summary>
                <p class="text-xl mb-8 text-dark">A taste of Kerala to celebrate our special day.<br>We hope you enjoy the feast!</p>
                <div>
                    
                    <div class="section-divider"></div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 text-left text-lg">
                        <!-- Welcome Drinks & Starters -->
                        <div class="space-y-6">
                            <div>
                                <h3 class="text-3xl font-great-vibes mb-2 text-dark">Welcome Drink</h3>
                                <ul class="space-y-1 text-dark menu-list">
                                    <li><span class="text-dark mr-2">✺</span>Ginger lime</li>
                                    <li><span class="text-dark mr-2">✺</span>Watermelon juice</li>
                                    <li><span class="text-dark mr-2">✺</span>Passion fruit honey fizz</li>
                                </ul>
                            </div>
                            <div>
                                <h3 class="text-3xl font-great-vibes mb-2 text-dark">Starter</h3>
                                <ul class="space-y-1 text-dark menu-list">
                                    <li><span class="text-dark mr-2">✺</span>Veg spring rolls</li>
                                    <li><span class="text-dark mr-2">✺</span>Cocktail beef samosa</li>
                                    <li><span class="text-dark mr-2">✺</span>Chicken skewers</li>
                                </ul>
                            </div>
                            <div>
                                <h3 class="text-3xl font-great-vibes mb-2 text-dark">Soups</h3>
                                <ul class="space-y-1 text-dark menu-list">
                                    <li><span class="text-dark mr-2">✺</span>Cream of chicken</li>
                                    <li><span class="text-dark mr-2">✺</span>Sweet corn veg</li>
                                </ul>
                            </div>
                        </div>
                        <!-- Main Course -->
                        <div>
                            <h3 class="text-3xl font-great-vibes mb-2 text-dark">Main Course</h3>
                            <ul class="space-y-1 text-dark menu-list">
                                <li><span class="text-dark mr-2">✺</span>Nool porotta</li>
                                <li><span class="text-dark mr-2">✺</span>Ari pathiri</li>
                                <li><span class="text-dark mr-2">✺</span>Beef olarthiyathu</li>
                                <li><span class="text-dark mr-2">✺</span>Fish mango curry</li>
                                <li><span class="text-dark mr-2">✺</span>Green pea stew</li>
                                <li><span class="text-dark mr-2">✺</span>Pulav</li>
                                <li><span class="text-dark mr-2">✺</span>Butter chicken</li>
                                <li><span class="text-dark mr-2">✺</span>Paneer butter masala</li>
                            </ul>
                        </div>
                        <!-- Thattukada & Dessert -->
                        <div class="space-y-6">
                            <div>
                                <h3 class="text-3xl font-great-vibes mb-2 text-dark">Thattukada</h3>
                                <ul class="space-y-1 text-dark menu-list">
                                    <li><span class="text-dark mr-2">✺</span>Variety of dosa (4 options)</li>
                                    <li><span class="text-dark mr-2">✺</span>Kappa & Fish curry</li>
                                    <li><span class="text-dark mr-2">✺</span>Chammantis</li>
                                    <li><span class="text-dark mr-2">✺</span>Sulaimani (mint tea)</li>
                                    <li><span class="text-dark mr-2">✺</span>Lime tea</li>
                                </ul>
                            </div>
                            <div>
                                <h3 class="text-3xl font-great-vibes mb-2 text-dark">Dessert</h3>
                                <ul class="space-y-1 text-dark menu-list">
                                    <li><span class="text-dark mr-2">✺</span>Elaneer pudding</li>
                                    <li><span class="text-dark mr-2">✺</span>Live jilebi</li>
                                    <li><span class="text-dark mr-2">✺</span>Vanilla ice cream</li>
                                    <li><span class="text-dark mr-2">✺</span>Tiramisu</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </details>
        </div>
    </section>

    <!-- Our Perfect Equation Section -->
    <section class="equation-section">
        <video 
            class="video-bg" 
            autoplay 
            muted 
            loop 
            playsinline
        >
            <source src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/Video_Generation_with_Romantic_Voice.mp4" type="video/mp4">
            Your browser does not support the video tag. Please <a href="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/Video_Generation_with_Romantic_Voice.mp4" target="_blank" rel="noopener">download the video</a> to view it.
        </video>
        <div class="overlay"></div>
        <div class="hero-content text-center py-16 px-4">
            <h2 class="text-5xl font-great-vibes mb-4 text-white">Our Perfect Equation</h2>
            <div class="section-divider"></div>
            <p class="text-xl text-white">From laser physics to evolutionary biology, our worlds collided to create the perfect chemistry.</p>
        </div>
    </section>

    <!-- Our Story Timeline Section -->
    <section class="py-16 px-4 text-center bg-wedding-section">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-5xl font-great-vibes mb-4 text-dark">Our Story</h2>
            <div class="section-divider"></div>
            <p class="text-xl mb-8 text-dark">Some of our favorite memories together so far.</p>
            <div class="timeline-container">
                <!-- Timeline Item 1 -->
                <div class="timeline-item fade-in-section">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <img src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/IMG20250425153546.jpg" alt="Taniya and Aswin in front of the Louvre" class="w-full h-auto rounded-md">
                        <h3 class="text-3xl font-great-vibes text-light mt-4">A Parisian Adventure</h3>
                        <p class="text-sm text-light mb-2">April 2025</p>
                        <p class="text-light">Our love story began its Parisian chapter right here, with art and history as our backdrop.</p>
                    </div>
                </div>
                <!-- Timeline Item 2 -->
                <div class="timeline-item fade-in-section">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <img src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/IMG-20250427-WA0029.jpg" alt="Taniya and Aswin embracing" class="w-full h-auto rounded-md">
                        <h3 class="text-3xl font-great-vibes text-light mt-4">Mountain Views</h3>
                        <p class="text-sm text-light mb-2">April 2025</p>
                        <p class="text-light">Lost in a moment, surrounded by nature's grandeur and a love that feels just as vast.</p>
                    </div>
                </div>
                <!-- Timeline Item 3 -->
                <div class="timeline-item fade-in-section">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <img src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/IMG-20250429-WA0030.jpg" alt="Taniya and Aswin by a lake" class="w-full h-auto rounded-md">
                        <h3 class="text-3xl font-great-vibes text-light mt-4">Lakeside Serenity</h3>
                        <p class="text-sm text-light mb-2">April 2025</p>
                        <p class="text-light">Finding serenity and joy in the quiet moments we share, with the world fading away.</p>
                    </div>
                </div>
                <!-- Timeline Item 4 -->
                <div class="timeline-item fade-in-section">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <img src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/IMG-20250427-WA0089.jpg" alt="Taniya and Aswin in a field of yellow flowers" class="w-full h-auto rounded-md">
                        <h3 class="text-3xl font-great-vibes text-light mt-4">Golden Hour</h3>
                        <p class="text-sm text-light mb-2">April 2025</p>
                        <p class="text-light">In a field of golden blooms, our hearts danced to the same rhythm. A perfect picture of our happiness.</p>
                    </div>
                </div>
                <!-- Timeline Item 5 -->
                <div class="timeline-item fade-in-section">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <img src="https://github.com/Aswinalex/wedding-invitation/blob/main/WhatsApp%20Image%202025-08-01%20at%2014.17.22_e07bf8fc.jpg?raw=true" alt="Timeline 5" class="w-full h-auto rounded-md">
                        <h3 class="text-3xl font-great-vibes text-light mt-4">Carrying her</h3>
                        <p class="text-sm text-light mb-2">August 2025</p>
                        <p class="text-light">Carrying her on my back here, and in my heart for a lifetime to come.</p>
                    </div>
                </div>
                <!-- Timeline Item 6 -->
                <div class="timeline-item fade-in-section">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <img src="https://github.com/Aswinalex/wedding-invitation/blob/main/WhatsApp%20Image%202025-08-01%20at%2014.18.52_06e88a40.jpg?raw=true" alt="Timeline 6" class="w-full h-auto rounded-md">
                        <h3 class="text-3xl font-great-vibes text-light mt-4">Beach vibes </h3>
                        <p class="text-sm text-light mb-2">August 2025</p>
                        <p class="text-light">Enjoying a beautiful day together at Fort Kochi Beach, making memories by the sea.</p>
                    </div>
                </div>
                <!-- Timeline Item 7 -->
                <div class="timeline-item fade-in-section">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <img src="https://github.com/Aswinalex/wedding-invitation/blob/main/WhatsApp%20Image%202025-08-01%20at%2015.56.58_9a005fbc.jpg?raw=true" alt="Timeline 7" class="w-full h-auto rounded-md">
                        <h3 class="text-3xl font-great-vibes text-light mt-4">Together Always</h3>
                        <p class="text-sm text-light mb-2">August 2025</p>
                        <p class="text-light">Hand in hand, we walk towards our forever, ready for all of life's beautiful adventures.</p>
                    </div>
                </div>
                <!-- Timeline Item 8 -->
                <div class="timeline-item fade-in-section">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <img src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/WhatsApp%20Image%202025-08-01%20at%2014.18.53_d10a8b64.jpg" alt="Timeline 8" class="w-full h-auto rounded-md">
                        <h3 class="text-3xl font-great-vibes text-light mt-4">First car ride </h3>
                        <p class="text-sm text-light mb-2">August 2025</p>
                        <p class="text-light">Our first movie together: Barroz, starring Mohanlal. The film may have flopped, but we loved every moment spent together.</p>
                    </div>
                </div>
                <!-- Timeline Item 9 -->
                <div class="timeline-item fade-in-section">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <img src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/WhatsApp%20Image%202025-08-01%20at%2014.18.54_ed92f7d9.jpg" alt="Timeline 9" class="w-full h-auto rounded-md">
                        <h3 class="text-3xl font-great-vibes text-light mt-4">Forever Starts Here</h3>
                        <p class="text-sm text-light mb-2">August 2025</p>
                        <p class="text-light">Our very first car journey together—filled with dreams of the road ahead.</p>
                    </div>
                </div>
                <!-- Timeline Item 10 -->
                <div class="timeline-item fade-in-section">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <img src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/WhatsApp%20Image%202025-08-01%20at%2014.18.53_23600209.jpg" alt="Timeline 9" class="w-full h-auto rounded-md">
                        <h3 class="text-3xl font-great-vibes text-light mt-4">Pennukaanal Scenes </h3>
                        <p class="text-sm text-light mb-2">August 2025</p>
                        <p class="text-light"> The cherished moment when the groom's family visited the bride's family for the very first time, marking the beautiful beginning of our journey together.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Wedding Party Section -->
    <section class="py-16 px-4 text-center wedding-party-section">
        <div class="max-w-5xl mx-auto">
            <h2 class="text-5xl font-great-vibes mb-4 text-dark">Meet Our Family</h2>
            <div class="section-divider"></div>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-8">
                <div class="text-center"><img src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/Daddy_mummy.jpg" alt="Parents of the Bride" class="w-40 h-40 mx-auto rounded-full shadow-lg object-cover"><h3 class="text-2xl font-great-vibes mt-4 text-dark">Mr. Binny & Mrs. Laly</h3><p class="text-dark">Parents of the Bride</p></div>
                <div class="text-center">
                    <div class="w-40 h-40 mx-auto rounded-full shadow-lg overflow-hidden flex items-center justify-center" style="position:relative;">
                        <img 
                            src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/appa_amma.jpg" 
                            alt="Parents of the Groom" 
                            class="object-cover w-48 h-48"
                            style="position:absolute; left:30px; top: -px;"
                        >
                    </div>
                    <h3 class="text-2xl font-great-vibes mt-4 text-dark">Dr. Salim & Mrs. Renu </h3>
                    <p class="text-dark">Parents of the Groom</p>
                </div>
                <div class="text-center"><img src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/Nevil%20Bincy.jpg" alt="Brother and Sister-in-Law" class="w-40 h-40 mx-auto rounded-full shadow-lg object-cover"><h3 class="text-2xl font-great-vibes mt-4 text-dark">Nevil & Bincy</h3><p class="text-dark">Brother & Sister-in-Law</p></div>
                <div class="text-center flex flex-col items-center">
                    <div class="w-40 h-40 mx-auto rounded-full shadow-lg overflow-hidden flex items-center justify-center mb-4" style="position:relative;">
                        <img 
                            src="https://github.com/Aswinalex/wedding-invitation/blob/main/Nitty.jpg?raw=true" 
                            alt="Sister of the Bride" 
                            class="object-cover w-48 h-48"
                            style="position:absolute; left:0; top:20px;"
                        >
                    </div>
                    <h3 class="text-2xl font-great-vibes mt-4 text-dark">Dr. Nitty Sara</h3>
                    <p class="text-dark">Sister of the Bride</p>
                </div>
                <div class="text-center">
                    <div class="w-40 h-40 mx-auto rounded-full shadow-lg overflow-hidden flex items-center justify-center" style="background: #fff;">
                        <img 
                            src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/ida.jpg?raw=true" 
                            alt="Ida" 
                            class="object-cover w-48 h-48" 
                            style="transform: scale(0.8);"
                        >
                    </div>
                    <h3 class="text-2xl font-great-vibes mt-4 text-dark">Ida</h3>
                    <p class="text-dark">Sister of the Groom</p>
                </div>
                <div class="text-center"><img src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/eva%2C%20ema.jpg" alt="Eva & Ema" class="w-40 h-40 mx-auto rounded-full shadow-lg object-cover"><h3 class="text-2xl font-great-vibes mt-4 text-dark">Eva & Ema</h3><p class="text-dark">Our beloved nieces</p>
            </div>
            </div>
        </div>
    </section>
    
    <!-- Local Favorites Section -->
    <section class="py-16 px-4 text-center local-favorites-section">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-5xl font-great-vibes mb-4 text-dark">Our Local Favorites</h2>
            <div class="section-divider"></div>
            <p class="text-xl mb-8 text-dark">If you have some extra time, here are a few of our favorite spots near Thiruvalla!</p>

                <!-- Grid of attractions -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 text-left">
                <!-- Uptown Shack -->
                <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 text-center">
                    <img src="https://github.com/Aswinalex/wedding-invitation/blob/main/uptowwn%20shack.webp?raw=true" alt="Uptown Shack" class="w-full h-48 object-cover rounded-md mb-4">
                    <div class="text-4xl mb-2 text-dark">☕</div>
                    <h3 class="text-2xl font-great-vibes text-dark">Favorite Rooftop Cafe</h3>
                    <p class="font-semibold text-dark">Uptown Shack</p>
                    <p class="text-sm text-dark mb-2">For a rooftop shack dining experience</p>
                    <a href="https://www.google.com/maps?q=Uptown+Shack+Thiruvalla" target="_blank" class="text-sm text-dark underline">View on Map</a>
                </div>

                <!-- Pamba River Walk -->
                <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 text-center">
                    <img src="https://github.com/Aswinalex/wedding-invitation/blob/main/pampa.webp?raw=true" alt="Pamba River Walk" class="w-full h-48 object-cover rounded-md mb-4">
                    <div class="text-4xl mb-2 text-dark">🏞️</div>
                    <h3 class="text-2xl font-great-vibes text-dark">Scenic Walk</h3>
                    <p class="font-semibold text-dark">Pamba River Walk</p>
                    <p class="text-sm text-dark mb-2">A beautiful and peaceful walk along the riverbanks.</p>
                    <a href="https://www.google.com/maps?q=Pamba+River+Walk+Thiruvalla" target="_blank" class="text-sm text-dark underline">View on Map</a>
                </div>

                <!-- Avees Puttu House -->
                <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 text-center">
                    <img src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/aavees.webp" alt="Avees Puttu House" class="w-full h-48 object-cover rounded-md mb-4">
                    <div class="text-4xl mb-2 text-dark">🍽️</div>
                    <h3 class="text-2xl font-great-vibes text-dark">Must-Try Food</h3>
                    <p class="font-semibold text-dark">Avees Puttu House</p>
                    <p class="text-sm text-dark mb-2">For authentic and delicious Kerala cuisine.</p>
                    <a href="https://www.google.com/maps?q=Avees+Puttu+House+Thiruvalla" target="_blank" class="text-sm text-dark underline">View on Map</a>
                </div>

                <!-- Bhoothakuzhy Para -->
                <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 text-center">
                    <img src="https://github.com/Aswinalex/wedding-invitation/blob/main/bhoothakuzhy.webp?raw=true" alt="Bhoothakuzhy Para" class="w-full h-48 object-cover rounded-md mb-4">
                    <div class="text-4xl mb-2 text-dark">🪨</div>
                    <h3 class="text-2xl font-great-vibes text-dark">Hidden Gem</h3>
                    <p class="font-semibold text-dark">Bhoothakuzhy Para</p>
                    <p class="text-sm text-dark mb-2">A quiet scenic spot perfect for nature lovers and photo ops.</p>
                    <a href="https://www.google.com/maps?q=Bhoothakuzhy+Para" target="_blank" class="text-sm text-dark underline">View on Map</a>
                </div>

                <!-- Vengal Viewpoint -->
                <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 text-center">
                    <img src="https://github.com/Aswinalex/wedding-invitation/blob/main/vengal.webp?raw=true" alt="Vengal Viewpoint" class="w-full h-48 object-cover rounded-md mb-4">
                    <div class="text-4xl mb-2 text-dark">🌅</div>
                    <h3 class="text-2xl font-great-vibes text-dark">Sunset Spot</h3>
                    <p class="font-semibold text-dark">Vengal Viewpoint</p>
                    <p class="text-sm text-dark mb-2">Catch stunning sunsets and panoramic views over the hills.</p>
                    <a href="https://www.google.com/maps?q=Vengal+Viewpoint,+Kerala" target="_blank" class="text-sm text-dark underline">View on Map</a>
                </div>

                <!-- Aruvikuzhy Waterfalls -->
                <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200 text-center">
                    <img src="https://raw.githubusercontent.com/Aswinalex/wedding-invitation/main/aruvikuzhy.webp" alt="Aruvikuzhy Waterfalls" class="w-full h-48 object-cover rounded-md mb-4">
                    <div class="text-4xl mb-2 text-dark">💧</div>
                    <h3 class="text-2xl font-great-vibes text-dark">Waterfall Wonder</h3>
                    <p class="font-semibold text-dark">Aruvikuzhy Waterfalls</p>
                    <p class="text-sm text-dark mb-2">A refreshing spot for a quick nature escape and waterfall views.</p>
                    <a href="https://www.google.com/maps?q=Aruvikuzhy+Waterfalls" target="_blank" class="text-sm text-dark underline">View on Map</a>
                </div>
            </div>
        </div>
    </section>

    <!-- RSVP Section -->
    <section class="py-16 px-4 text-center rsvp-section fade-in-section">
        <div class="max-w-2xl mx-auto">
        <h2 class="text-5xl font-great-vibes mb-4 text-dark">RSVP</h2>
        <div class="section-divider"></div>
        <p class="text-xl mb-8 text-dark">Kindly respond by October 1st, 2025 so we can finalize our arrangements.</p>
        <form id="rsvpForm" class="text-left space-y-4">
            <input type="text" name="Name" placeholder="Your Name(s)" required class="w-full p-3 rounded-lg border border-white focus:ring-2 focus:ring-dark focus:border-transparent text-lg text-dark">
            <select name="Attending" required class="w-full p-3 rounded-lg border border-white focus:ring-2 focus:ring-dark focus:border-transparent text-lg text-dark" title="Attendance selection">
            <option value="" disabled selected>Will you be attending?</option>
            <option value="Yes, with pleasure!">Yes, with pleasure!</option>
            <option value="No, with regrets.">No, with regrets.</option>
            </select>
            <input type="number" name="Guests" placeholder="Number of guests" min="0" required class="w-full p-3 rounded-lg border border-white focus:ring-2 focus:ring-dark focus:border-transparent text-lg text-dark">
            <textarea name="Message" placeholder="Optional message (Let us know if we have to arrange your accomodation either on 4th or 5th Jan or both)" rows="3" class="w-full p-3 rounded-lg border border-white focus:ring-2 focus:ring-dark focus:border-transparent text-lg text-dark"></textarea>
            <div class="text-center">
            <button type="submit" id="rsvpSubmitBtn" class="btn-primary inline-flex items-center text-lg font-semibold shadow-md hover:shadow-lg">Submit RSVP<span id="rsvpLoadingSpinner" class="loading-spinner hidden"></span></button>
            </div>
        </form>
        <div id="rsvpMessage" class="mt-4 text-dark"></div>
        </div>
    </section>

    <!-- Guestbook Section -->
    <section class="py-16 px-4 text-center guestbook-section fade-in-section">
        <div class="max-w-4xl mx-auto">
        <h2 class="text-5xl font-great-vibes mb-4 text-dark">Guestbook</h2>
        <div class="section-divider"></div>
        <p class="text-xl mb-8 text-dark">Leave a message for the happy couple!</p>
        <form id="guestbookForm" class="text-left space-y-4 mb-8">
            <input type="text" id="guestName" placeholder="Your Name" required class="w-full p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-dark focus:border-transparent text-lg text-dark">
            <textarea id="guestMessage" placeholder="Your message" required rows="4" class="w-full p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-dark focus:border-transparent text-lg text-dark"></textarea>
            <div class="text-center">
            <button type="submit" class="btn-primary inline-flex items-center text-lg font-semibold shadow-md hover:shadow-lg">Post Message<span id="guestbookLoadingSpinner" class="loading-spinner hidden"></span></button>
            </div>
        </form>
        <div id="guestbookDisplay" class="space-y-4 bg-white p-6 rounded-lg text-dark"><p class="text-dark">Loading messages...</p></div>
        </div>
    </section>

    <!-- AI Dress Code Advisor Section -->
    <section class="py-16 px-4 text-center dresscode-section fade-in-section">
        <div class="max-w-2xl mx-auto">
            <h2 class="text-5xl font-great-vibes mb-4 text-dark">Dress Code Advisor</h2>
            <div class="section-divider"></div>
            <p class="text-xl mb-8 text-dark">Have a question about what to wear? Our AI assistant can help! The dress code is formal or festive wear.</p>
            <div class="space-y-4 text-left">
                <input type="text" id="dressCodeQuery" placeholder="e.g., 'Is a floral summer dress okay?'" class="w-full p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-dark focus:border-transparent text-lg text-dark">
                <div class="text-center">
                    <button id="dressCodeBtn" class="btn-primary inline-flex items-center text-lg font-semibold shadow-md hover:shadow-lg">Ask Assistant<span id="dressCodeSpinner" class="loading-spinner hidden"></span></button>
                </div>
                <div id="dressCodeResponse" class="p-4 bg-white rounded-lg border border-dark/20 min-h-[50px] text-dark text-lg">Your answer will appear here...</div>
            </div>
        </div>
    </section>

    <!-- Photo Gallery Teaser Section -->
    <section class="py-16 px-4 text-center bg-wedding-section fade-in-section">
        <div class="max-w-2xl mx-auto">
            <h2 class="text-5xl font-great-vibes mb-4 text-dark">Our Wedding Gallery</h2>
            <div class="section-divider"></div>
            <p class="text-xl mb-8 text-dark">We'll be sharing photos from our special day here. Please check back after January 5th!</p>
            <a href="#" class="btn-primary inline-block text-lg font-semibold shadow-md opacity-50 cursor-not-allowed">
                Coming Soon
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-[#0D4B4F] text-light py-8 px-4 text-center rounded-t-xl">
        <div class="max-w-4xl mx-auto">
            <p class="text-2xl mb-2 font-great-vibes text-light">We can't wait to celebrate with you!</p>
            <p class="text-sm mb-2 text-light">With love from our families</p>
            <p class="text-sm text-light">© 2026 Taniya & Aswin. All Rights Reserved.</p>
            <div class="mt-4">
                <button id="copyUserIdBtn" class="text-xs text-light/50 hover:text-light">Copy Admin ID: <span id="userIdDisplay"></span></button>
            </div>
        </div>
    </footer>

    <!-- Mute Button -->
    <button id="muteBtn" class="fixed bottom-5 right-5 z-50 bg-white/50 p-3 rounded-full shadow-lg backdrop-blur-sm hover:bg-white/75 transition">
        <!-- Speaker Icon -->
        <svg id="speakerIcon" class="w-6 h-6 text-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path></svg>
        <!-- Muted Icon (hidden by default) -->
        <svg id="mutedIcon" class="w-6 h-6 text-dark hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" clip-rule="evenodd"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"></path></svg>
    </button>

    <script type="module">
        // --- Firebase Imports (needed for Guestbook only) ---
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";
        import { getFirestore, collection, addDoc, onSnapshot, serverTimestamp, doc, deleteDoc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

        // --- Global Firebase instances and user state ---
        let db = null;
        let auth = null;
        let userId = null;
        let isAuthReady = false;

        // --- IMPORTANT: Paste your deployed Google Apps Script Web App URL here ---
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwhgKz9-l3TcUuZ27i5EVk8-dGjJPIkfb3TUjbqsSaVrHF_8n0QwW0jOwMvXQCGj19Flg/exec";

        // --- Main Page Logic ---
        document.addEventListener('DOMContentLoaded', async () => {
            
            // --- Background Music (MP3) ---
            const muteBtn = document.getElementById('muteBtn');
            const speakerIcon = document.getElementById('speakerIcon');
            const mutedIcon = document.getElementById('mutedIcon');
            let musicStarted = false;
            let isMuted = false;

            // Create audio element for background music
            const bgAudio = document.createElement('audio');
            bgAudio.src = 'https://github.com/Aswinalex/wedding-invitation/blob/main/wedding-251610.mp3?raw=true';
            bgAudio.loop = true;
            bgAudio.preload = 'auto';
            bgAudio.volume = 0.5;
            bgAudio.style.display = 'none';
            document.body.appendChild(bgAudio);

            // Function to start the music, must be triggered by user interaction
            const startMusic = () => {
                if (musicStarted) return;
                bgAudio.play().catch(() => {});
                musicStarted = true;
            };

            // Play music on the first click anywhere on the body
            document.body.addEventListener('click', (e) => {
                const isFormElement = ['INPUT', 'TEXTAREA', 'SELECT', 'BUTTON'].includes(e.target.tagName);
                const isMuteButton = e.target.closest('#muteBtn');
                if (!isFormElement && !isMuteButton) {
                    startMusic();
                }
            }, { once: true });

            // Mute button logic
            muteBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                if (!musicStarted) {
                    startMusic();
                } else {
                    isMuted = !isMuted;
                    bgAudio.muted = isMuted;
                }
                speakerIcon.classList.toggle('hidden', isMuted);
                mutedIcon.classList.toggle('hidden', !isMuted);
            });


            // --- Countdown Timer ---
            const countdownDate = new Date("January 5, 2026 15:00:00").getTime();
            const countdownInterval = setInterval(() => {
                const now = new Date().getTime();
                const distance = countdownDate - now;
                document.getElementById('days').innerText = Math.floor(distance / (1000 * 60 * 60 * 24)).toString().padStart(2, '0');
                document.getElementById('hours').innerText = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)).toString().padStart(2, '0');
                document.getElementById('minutes').innerText = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)).toString().padStart(2, '0');
                document.getElementById('seconds').innerText = Math.floor((distance % (1000 * 60)) / 1000).toString().padStart(2, '0');
                if (distance < 0) { clearInterval(countdownInterval); document.getElementById('countdown').innerHTML = "<p class='col-span-4 text-2xl'>The day is here!</p>"; }
            }, 1000);

            // --- Scroll Animations ---
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        // Autoplay video if present in this section
                        const video = entry.target.querySelector('video');
                        if (video && video.paused) {
                            // Try to play the video (may require user interaction depending on browser)
                            video.play().catch(() => {});
                        }
                    } else {
                        entry.target.classList.remove('is-visible');
                        // Optionally pause video when out of view
                        const video = entry.target.querySelector('video');
                        if (video && !video.paused) {
                            video.pause();
                        }
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.fade-in-section').forEach(section => {
                observer.observe(section);
            });

            // --- Wedding Feast Click Animation (now on toggle of details) ---
            const menuDetails = document.querySelector('.menu-section details');
            if (menuDetails) {
                menuDetails.addEventListener('toggle', () => {
                    if (menuDetails.open) {
                        const menuLists = document.querySelectorAll('.menu-section .menu-list');
                        menuLists.forEach(list => {
                            const menuItems = list.querySelectorAll('li');
                            menuItems.forEach((item, index) => {
                                setTimeout(() => {
                                    item.style.opacity = '1';
                                    item.style.transform = 'translateY(0)';
                                }, index * 250); // Slower staggered delay
                            });
                        });
                    }
                });
            }

            // --- Firebase Initialization and Auth ---
            // --- Inject Firebase config and app ID FIRST ---
            window.__firebase_config = JSON.stringify({
            apiKey: "AIzaSyDbZgEemDAd0-g8rCOEgkjflwgQfe2_Sew",
            authDomain: "wedding-aswin-taniya.firebaseapp.com",
            projectId: "wedding-aswin-taniya",
            storageBucket: "wedding-aswin-taniya.firebasestorage.app",
            messagingSenderId: "310162251053",
            appId: "1:310162251053:web:1a24dbf68f0bd4679587a4"
            });
            window.__app_id = "wedding-aswin-taniya";
            const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
            const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
            
            try {
                const app = initializeApp(firebaseConfig);
                auth = getAuth(app);
                db = getFirestore(app);

                // We simplify the auth logic to avoid the token mismatch error.
                // The platform already handles the initial sign-in for the user.
                onAuthStateChanged(auth, async (user) => {
                    if (user) {
                        userId = user.uid;
                        isAuthReady = true;
                        document.getElementById('userIdDisplay').textContent = userId;
                        // Now that auth is ready, set up the real-time listener for the guestbook
                        setupGuestbookListener();
                    } else {
                        // In case of any un-authenticated state, attempt an anonymous sign-in.
                        try {
                            await signInAnonymously(auth);
                        } catch (error) {
                            console.error("Authentication Error:", error);
                            displayAuthError();
                        }
                    }
                });
            } catch (error) {
                console.error("Firebase Initialization Error:", error);
                displayAuthError();
            }

            function displayAuthError() {
                const guestbookDisplay = document.getElementById('guestbookDisplay');
                const rsvpForm = document.getElementById('rsvpForm');
                if (guestbookDisplay) {
                    guestbookDisplay.innerHTML = '<p class="text-dark text-center">Guestbook is currently unavailable. Please try reloading the page.</p>';
                }
                const guestbookForm = document.getElementById('guestbookForm');
                if (guestbookForm) {
                    guestbookForm.style.display = 'none';
                }
                if (rsvpForm) {
                    rsvpForm.innerHTML = '<p class="text-dark text-center">RSVP feature is currently unavailable. Please try reloading the page.</p>';
                }
            }

            // --- Guestbook Logic with Firestore ---
            const guestbookForm = document.getElementById('guestbookForm');
            const guestbookLoadingSpinner = document.getElementById('guestbookLoadingSpinner');
            const guestbookDisplay = document.getElementById('guestbookDisplay');
            const deleteModal = document.getElementById('deleteModal');
            const confirmDeleteBtn = document.getElementById('confirmDelete');
            const cancelDeleteBtn = document.getElementById('cancelDelete');
            let messageToDeleteId = null;
            
            function setupGuestbookListener() {
                const guestbookCollectionRef = collection(db, `/artifacts/${appId}/public/data/guestbook`);
                onSnapshot(guestbookCollectionRef, (snapshot) => {
                    if (guestbookDisplay) {
                        guestbookDisplay.innerHTML = '';
                        const messages = [];
                        snapshot.forEach(doc => {
                            const data = doc.data();
                            messages.push({ ...data, id: doc.id });
                        });

                        messages.sort((a, b) => b.timestamp?.seconds - a.timestamp?.seconds);

                        if (messages.length === 0) { 
                            guestbookDisplay.innerHTML = '<p class="text-light">Be the first to leave a message!</p>'; 
                        } else {
                            messages.forEach(message => {
                                const messageEl = document.createElement('div');
                                messageEl.className = 'message relative';
                                let deleteButtonHtml = '';
                                if (message.userId === userId) {
                                    deleteButtonHtml = `<button data-id="${message.id}" class="delete-btn absolute top-2 right-2 text-dark/50 hover:text-red-500 text-2xl leading-none">×</button>`;
                                }
                                messageEl.innerHTML = `<p class="font-semibold text-xl text-light">${message.name || 'Anonymous'}</p><p class="text-light pr-6">${message.message || ''}</p><p class="text-xs text-light/70 mt-2">${message.timestamp ? new Date(message.timestamp.seconds * 1000).toLocaleString() : 'Just now'}</p>${deleteButtonHtml}`;
                                guestbookDisplay.appendChild(messageEl);
                            });
                        }
                    }
                }, (error) => {
                    console.error("Error getting guestbook messages: ", error);
                    if (guestbookDisplay) {
                        guestbookDisplay.innerHTML = '<p class="text-dark">Could not load messages. Please try again later.</p>';
                    }
                });
            }

            if (guestbookDisplay) {
                guestbookDisplay.addEventListener('click', (e) => {
                    if (e.target.classList.contains('delete-btn')) {
                        messageToDeleteId = e.target.dataset.id;
                        deleteModal.classList.remove('hidden');
                        deleteModal.classList.add('flex');
                    }
                });
            }
            
            if (cancelDeleteBtn) {
                cancelDeleteBtn.addEventListener('click', () => {
                    deleteModal.classList.add('hidden');
                    deleteModal.classList.remove('flex');
                    messageToDeleteId = null;
                });
            }

            if (confirmDeleteBtn) {
                confirmDeleteBtn.addEventListener('click', async () => {
                    if (messageToDeleteId) {
                        try {
                            await deleteDoc(doc(db, `/artifacts/${appId}/public/data/guestbook`, messageToDeleteId));
                        } catch (error) {
                            console.error("Error removing document: ", error);
                        } finally {
                            cancelDeleteBtn.click();
                        }
                    }
                });
            }

            if (guestbookForm) {
                guestbookForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    guestbookLoadingSpinner.classList.remove('hidden');
                    try {
                        await addDoc(collection(db, `/artifacts/${appId}/public/data/guestbook`), { name: document.getElementById('guestName').value, message: document.getElementById('guestMessage').value, timestamp: serverTimestamp(), userId: userId });
                        guestbookForm.reset();
                    } catch (error) { console.error("Error adding document: ", error); } finally { guestbookLoadingSpinner.classList.add('hidden'); }
                });
            }

            // --- RSVP Form Logic with Google Apps Script ---
            const rsvpForm = document.getElementById('rsvpForm');
            const rsvpMessage = document.getElementById('rsvpMessage');
            const rsvpLoadingSpinner = document.getElementById('rsvpLoadingSpinner');
            const rsvpSubmitBtn = document.getElementById('rsvpSubmitBtn');
            
            if (rsvpForm) {
                rsvpForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    rsvpLoadingSpinner.classList.remove('hidden');
                    rsvpSubmitBtn.disabled = true;

                    if (SCRIPT_URL === "https://script.google.com/macros/s/AKfycbwhgKz9-l3TcUuZ27i5EVk8-dGjJPIkfb3TUjbqsSaVrHF_8n0QwW0jOwMvXQCGj19Flg/exec") {
                        rsvpMessage.textContent = "Please set up your Google Apps Script and paste the URL in the code.";
                        rsvpMessage.className = 'text-dark font-semibold mt-4';
                        rsvpLoadingSpinner.classList.add('hidden');
                        rsvpSubmitBtn.disabled = false;
                        return;
                    }

                    const formData = new FormData(rsvpForm);
                    const rsvpData = Object.fromEntries(formData.entries());
                    
                    try {
                        const response = await fetch(SCRIPT_URL, {
                            method: 'POST',
                            mode: 'no-cors', // Required for Google Apps Script to work
                            headers: {
                                'Content-Type': 'application/x-www-form-urlencoded',
                            },
                            body: new URLSearchParams(rsvpData)
                        });

                        // We can't check response.ok with no-cors, so we assume success
                        // The Apps Script will handle the sheet update.
                        rsvpMessage.textContent = "Thank you for your RSVP! We can't wait to see you.";
                        rsvpMessage.className = 'text-green-600 font-semibold mt-4';
                        rsvpForm.reset();
                    } catch (error) {
                        console.error("Error submitting RSVP: ", error);
                        rsvpMessage.textContent = "Oops! Something went wrong. Please try again.";
                        rsvpMessage.className = 'text-red-600 font-semibold mt-4';
                    } finally {
                        rsvpLoadingSpinner.classList.add('hidden');
                        rsvpSubmitBtn.disabled = false;
                    }
                });
            }

            const copyUserIdBtn = document.getElementById('copyUserIdBtn');
            if (copyUserIdBtn) {
                copyUserIdBtn.addEventListener('click', () => {
                    const tempInput = document.createElement('input');
                    document.body.appendChild(tempInput);
                    tempInput.value = userId;
                    tempInput.select();
                    document.execCommand('copy');
                    document.body.removeChild(tempInput);
                    copyUserIdBtn.textContent = 'Copied!';
                    setTimeout(() => { copyUserIdBtn.textContent = `Copy Admin ID: ${userId}`; }, 2000);
                });
            }

            // --- AI Dress Code Advisor with Gemini API ---
            const dressCodeBtn = document.getElementById('dressCodeBtn');
            const dressCodeQuery = document.getElementById('dressCodeQuery');
            const dressCodeResponse = document.getElementById('dressCodeResponse');
            const dressCodeSpinner = document.getElementById('dressCodeSpinner');
            
            async function generateResponseWithRetry(prompt) {
                const maxRetries = 3;
                const baseDelay = 1000; // 1 second
                let retries = 0;
                
                while (retries < maxRetries) {
                    try {
                        let chatHistory = [];
                        chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                        const payload = { contents: chatHistory };
                        const apiKey = "";
                        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                        
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) {
                            throw new Error(`API call failed with status: ${response.status}`);
                        }

                        const result = await response.json();
                        if (result.candidates && result.candidates.length > 0 &&
                            result.candidates[0].content && result.candidates[0].content.parts &&
                            result.candidates[0].content.parts.length > 0) {
                            return result.candidates[0].content.parts[0].text;
                        } else {
                            throw new Error('Unexpected API response structure.');
                        }
                    } catch (error) {
                        console.error(`Attempt ${retries + 1} failed: ${error.message}`);
                        retries++;
                        if (retries < maxRetries) {
                            const delay = baseDelay * Math.pow(2, retries);
                            await new Promise(res => setTimeout(res, delay));
                        } else {
                            return "I'm sorry, I'm having trouble with the request. Please try again later.";
                        }
                    }
                }
                return "I'm sorry, I'm having trouble with the request. Please try again later.";
            }

            if (dressCodeBtn) {
                dressCodeBtn.addEventListener('click', async () => {
                    const query = dressCodeQuery.value;
                    if (!query) {
                        dressCodeResponse.textContent = "Please enter a question.";
                        return;
                    }
                    
                    dressCodeSpinner.classList.remove('hidden');
                    dressCodeBtn.disabled = true;
                    dressCodeResponse.textContent = 'Thinking...';
                    
                    const fullPrompt = `You are a helpful wedding dress code advisor for a wedding in Thiruvalla, Kerala. The dress code is "formal or festive wear". The guests are asking questions about what to wear. Your response should be friendly and helpful. Do not mention your name or model. Keep the response concise. Here is the guest's question: "${query}"`;
                    
                    const responseText = await generateResponseWithRetry(fullPrompt);
                    
                    dressCodeResponse.textContent = responseText;
                    dressCodeSpinner.classList.add('hidden');
                    dressCodeBtn.disabled = false;
                });
            }
        });
    </script>
</body>
</html>
